\section{Lösungsansätze}
\subsection{Elimination}
Ein Lösungsansatz ist die Elimination von Provider unabhängigen Adressen. Dabei vergeben Provoider nur noch Adressblöcke, die in ihrem eigenen Adressblock liegen. Diese hierarchische Vergabe verlangt neue Ansätze bei Multihoming und Providerwechsel. Diese Probleme können gelöst werden durch die Verwendung der Version 6 des Internet Protokolls. IPv6 bietet per Entwurf die Möglichkeit mehrere Adresse für eine Netzwerkschnittstelle zu benutzen und es beschreibt die sogenannte "Statless Address Autoconfiguration", mit der es möglich wird ein gesamtes Netzwerk auf einen weiteren oder anderen Prefix umzustellen, ohne Änderung an jedem Netzwerkgerät vorzunehmen. \cite{RFC4862}. \\ Um das Problem der Redundanz zu lösen sind  weitergehenden Änderungen an diversen Protokollebenen nötig. Zum einem muss eine Maschine innerhalb eines Edge-Networks lernen mit mehreren redundanten Verbindungen umzugehen, zum anderen müssen Mechanismen geschaffen werden über die weitere (alternative) Adressen ausgetauscht werden können, um Maschinen redundant zu erreichen \cite{jen:2008:start}. Denkbar wäre Modifikationen im DNS oder Transportlayer-Protokoll die dies ermöglichen.
\paragraph{Vorteile}
Dieser Lösungsansatz kann durch Modifikation an vorhandenen Strukturen umgesetzt werden. Es werden keine neuen Protokolle oder Instanzen benötigt.
\paragraph{Nachteile} %TODO: rwrite done! besser??? da geht noch was.
Um trotz der streng hierachische Vergabe die Vorteile von Multihoming zu gewähhrleisten, ist es nötig vorhandenen Protokolle und ihre Implementierungen so zu modifizieren, dass Endgeräte mit redudanten Provideranbindungen umgehen können. Es müssen alle vorhandenen Addressen der Gegenstelle ermittelt werden. Ein Endgerät muss festellen welche Verbindung zwischen ISP und Edge Network nutzbar sind, um von diesen eine geeignete Auszuwählen. Dies setzt ein Protokoll zum erkennen von Verbindungsversagen, wie zum Beispiel shim6, und Verständnis von Routing-Policys vorraus \cite{jen:2008:start}. \\
Die hohen Anfoderung an die Endgeräte führen dazu, dass die Einführung von Providerabhänigen Addressen für Edge Networks unattraktiv ist, oder sogar teilweise gar nicht im Intresse der Betreiber. Die Vorteile der Seperation liegen auf Seite der ISPs, welche den stabilen Betrieb ihrere Router durch die wachsend Core Routing Tabelle gefähredet sehen, sie können jedoch nicht aktiv am Eleminationsansatz mitarbeiten. Es entsteht ein Motivation Problem beim Deployment, wo durch eine Verzögerung des Prozesses zu erwarten ist. Spürbare Veränderung können sich jedoch erst einstellen, wenn eine große Anzahl von Edge Networks auf PIs verzichtet \cite{jen:2008:start}. 

\subsection{Seperation} %TODO: Formulierung verbessern 
Der Seperationsansatz wird auch als Identifier/Locator-Split bezeichnet. Eine Unicast-Adresse besitzt in der Praxis eine überladene Bedeutung. Zum einen identifiziert sie ein einzelnes Interface zu einem bestimmten Zeitpunkt, gleichzeitig dient sie aber auch dazu ein Gerät zu lokalisieren. Da eine Verbindung zwischen zwei Geräten an die Addressen der jeweiligen Gesprächspartner gebunden ist, bedeutet ein Wechsel des Netzes auch den Abbruch der Verbindung.  \\
%TODO: Frage: was heißt das für Multihoming und Providerwechsel.

Die Grundidee der Seperation ist es diese zwei Funktionen zu trennen und einen Identfier für ein Gerät und einen Locator für den Ort des Gerätes im Internet zu schaffen. Routing-Entscheidungen im Internet-Core werden anhand von RLOC (routing Locators) getroffen. Ein Endgerät in einem Edge-Network wir durch EID (Endpoint Identfier) eindeutig und dauerhaft identifziert. An der Schnittstelle zwischen EN und ISP müssen EIDs in RLOCs und anderesherum übersetzt werden. Um dies zu ermöglichen muss eine Zuordnung zwischen dem Locator und dem Identfierer geschaffen werden. Dazu wird ein Mappingservice verwendet, der Auskunft über welche RLOCs ein gegebner EID zuerreichen ist. 

\paragraph{Vorteile}
Innerhalb des Internet-Cores müssen nur ISPs mit RLOCs addressiert werden. Dies führt dazu das die Routing-Tabelle im Core erheblich kleiner wird und stabiler, da es nur weniger ISPs als Edge-Networks gibt und die Anzahl der ISPs sowie ihre Routen nur geringer Veränderungen unterliegen. \cite{jen:2008:start} \cite{deering:1996:map} \\
Um ein Edge-Network durch mehrer Provider anzubinden, also um Multihoming zu betreiben, müssen nur die RLOCs der Provider im Mappingsystem mit EID-Prefix des Edge-Networks assoziert werden. Dies ermöglich Multihoming ohne Auswirkungen auf das Routing des Internet-Core zu haben. Ein Providerwechsel wirkt sich nur auf die Zuordnung im  Mappingsystem aus, nicht auf das Core Routing \cite{farinacci2007internet}.\\
Da EIDs und RLOCs sich ansonsten ähnlich zu jetzigen IP-Addressen verhalten ist es weder notwenidig den Endgeräte zu modifzieren, noch die Router innerhalb des Internet-Core zu verändern. Nur an der Übergabe zwischen Internet-Core und Edge-Network sind Änderungen nötig. \cite{jen:2008:start} \\
Die Trennung von Internet-Core und Edge Netzwerken schafft mehr Modularität. Dies kann genutzt werden, um die beiden Strukturen unabhänig voneinander zu modifzieren und zu verbessern.\\
Der Mapping-Dienst kann benutzt werden, um 
Durch die den Identfier/Locator-Split wird es möglich das sich Endgeräte bewegen ohne das sich ihr Identfier ändert, so dass Verbindungen auffrecht erhalten können. Dies bedingt jedoch ein ausreichend schnelles Mappingsystem, da ohne korrekte Zuordnung keine Daten zum Endgerät geleitet werden können. \\

\paragraph{Nachteile}
Um die beschriebenen Eigenschaften zu erhalten muss ein Mappingdienst geschaffen werden, der einer Reihe Anfoderungen entspricht: Er muss schnell die gesuchte Zuordnung liefern, um Paketverlust zu vermeiden. Updates des Mappings müssen sofort im gesamten Dienst verbreitet werden, um Endgeräte erreichen zu können. Dezentralität und Robustheit werden benötigt, da ein Ausfall des Mappingdienst den Ausfall des Internets bedeuten würde. Die Korrektheit von Zuordnungen muss gewährleistet sein um den korrekten Empfänger zu erreichen. Es werden also Anwendungen an den Mappingdinest gestellt die von keinem existierenden Dienst in aussreichendem Maße gewährlseistet werden.

\subsubsection{Map\&Encap am Beispiel von LISP}
Um die Umwandlung zwischen RLOCs und EDIs zu realsieren kann eine IP-in-IP Kapslung verwendet werden, man spricht in diesem Fall von Map-and-Encap \cite{deering:1996:map}. Eine Standart der dies beschreibt ist LISP. \\
LISP erfodert keine Modifikationen an den Hosts der Edge Networks. Sie arbeiten bei der Addressierung weiterhin mit IPv4 oder IPv6 Addressen. Auch die Namensauflösung und das Routing innerhalb von Edge-Networks muss nicht verändert werden. Wird ein Paket zum ISP übermittelt erreicht es beim Provider den ITR (Ingress Tunnel Router). Dieser ermitelt zum Ziel-EID die RLOCs mittels des Mappingsystems. Anschlißend packt er das IP-Paket in ein LISP-Paket. Als Zieladdress wird die zuvor ermittelte RLOC benutzt, Quelladdresse ist die RLOC des ITRs. Anschlißend wird das Packet durch den Internet-Core übermittelt. Es erreicht schließlich den ETR (Egress Tunnel Router) der die ermittelte RLOC besitzt. Dieser ist an das EN in dem sich die Ziel-EID befindet angeschlossen. Er packt das Packet aus und übermittel es an das EN. \\
\paragraph{Fragmentation} % TODO: Sprach verbessern.
Durch die Kapselung des Ursprungspaketes kann es das zu kommen, dass das enstehenden Paket die MTU (Maximum Transfer Unit) einer Verbindung innerhalb des Internetcores überschreitet. LISP definiert zwei verscheidene Verhfahren um dieses Problem zu lösen. Um das Problem statusfrei und damit möglichst einfach zu behandeln wird empfohlen Pakete die eingepackt eine gewisse MTU übersteigen zu verwerfenen und die entsprechende ICMP Meldung zum Sender zu schicken. Die zweite Lösung basiert darauf das ein ITR in der Praxis einige Zuordnungen vorhalten wird um nicht immer wieder das Mapping zu erfragen. Zu diesen bekannten Mapping wird dann die MTU gespeichert, bei der eine ICMP-Too-Big Nachricht empfangen wurde. Pakete zu diesem RLOC die diese MTU übersteigen werden ebenfalls mit der ICMP-Too-Big Nachricht beantwortet.
% TODO: Mehr LISP Beschreibung wenn nötig.

\subsubsection{Address-Rewriting am Beispiel von Six/One Router}
Im Gegensatz zu LISP wir bei Six/One das umwandeln zwischen EIDs und RLOCs von Routern innerhalb des Edge-Networks übernommen. Desweitern wird darauf verzichtet die Pakete zu kapseln, sondern direkt die Paket Addresse verändert. 
 
\subsubsection{Mappingsystem}


